From ba5da25a99d699d63c7716e9c003c6fb290182a7 Mon Sep 17 00:00:00 2001
From: Konsta <konsta09@gmail.com>
Date: Thu, 12 Sep 2013 18:50:49 +1000
Subject: [PATCH] add forum link to device info

Change-Id: I94d372a1d2c45fef4e543bef021f073dfe4deedb

diff --git a/res/values/cm_strings.xml b/res/values/cm_strings.xml
index 6320984..36576b1 100644
--- a/res/values/cm_strings.xml
+++ b/res/values/cm_strings.xml
@@ -15,6 +15,11 @@
      limitations under the License.
 -->
 <resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+    <!-- Konsta forum link -->
+    <string name="konsta_web_title">CyanogenMod11.0-PenguinKANG</string>
+    <string name="konsta_web_summary">Visit MoDaCo thread</string>
+    <string name="konsta_web_url">http://www.modaco.com/topic/367844-devrom-cyanogenmod-110-android-442-for-zte-v9/</string>
+
     <!-- Wi-Fi region code -->
     <string name="wifi_setting_countrycode_title">Wi-Fi region code</string>
     <!-- Wi-Fi settings screen, setting summary for setting the wifi frequency band [CHAR LIMIT=50]-->
diff --git a/res/xml/device_info_settings.xml b/res/xml/device_info_settings.xml
index e0da7f3..a21dcd6 100644
--- a/res/xml/device_info_settings.xml
+++ b/res/xml/device_info_settings.xml
@@ -168,4 +168,9 @@
                 android:title="@string/selinux_status"
                 android:summary="@string/selinux_status_enforcing"/>
 
+        <!-- Konsta forum link -->
+        <Preference android:key="konsta_web"
+                android:title="@string/konsta_web_title"
+                android:summary="@string/konsta_web_summary"/>
+
 </PreferenceScreen>
diff --git a/src/com/android/settings/DeviceInfoSettings.java b/src/com/android/settings/DeviceInfoSettings.java
index 48a01b6..1688536 100644
--- a/src/com/android/settings/DeviceInfoSettings.java
+++ b/src/com/android/settings/DeviceInfoSettings.java
@@ -19,6 +19,7 @@ package com.android.settings;
 import android.app.Activity;
 import android.content.Context;
 import android.content.Intent;
+import android.net.Uri;
 import android.content.pm.PackageManager.NameNotFoundException;
 import android.os.Build;
 import android.os.Bundle;
@@ -27,6 +28,7 @@ import android.os.SystemClock;
 import android.os.SystemProperties;
 import android.os.UserHandle;
 import android.preference.Preference;
+import android.preference.Preference.OnPreferenceClickListener;
 import android.preference.PreferenceGroup;
 import android.preference.PreferenceScreen;
 import android.util.Log;
@@ -165,6 +167,16 @@ public class DeviceInfoSettings extends RestrictedSettingsFragment {
         // Remove regulatory information if not enabled.
         removePreferenceIfBoolFalse(KEY_REGULATORY_INFO,
                 R.bool.config_show_regulatory_info);
+
+        findPreference("konsta_web").setOnPreferenceClickListener(
+            new OnPreferenceClickListener() {
+                public boolean onPreferenceClick(Preference preference) {
+                    Intent browserIntent = new Intent("android.intent.action.VIEW",
+                            Uri.parse(getString(R.string.konsta_web_url)));
+                    startActivity(browserIntent);
+                    return true;
+                }
+            });
     }
 
     @Override
